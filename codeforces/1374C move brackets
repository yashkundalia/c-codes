#include <iostream>
#include <map>
#include<unordered_map>
#include <iterator>
#include <vector>
#include <string>
#include <algorithm>
#include<utility>
#include<climits>
#include<stack>


using namespace std;



int check(string v, stack<char> s)
{
    /*while(!s.empty())
    {
        s.pop();
    }*/
    int len = v.length();
    //cout<<len<<endl;
    for(int i=0;i<len;i++)
    {
        if(!s.empty())
        {
            
        
            if(s.top() == '(' and v[i] == ')')
            {
                s.pop();
            }
            else s.push(v[i]);
        }
        else s.push(v[i]);
    }
    //cout<<s.size()<<endl;
    if(!s.empty()) 
    {
        //int ans = s.size()/2;
        return s.size()/2;
    }
    else return 0;

}

int main()
{
    int t;
    cin>>t;
    for(int i=0;i<t;i++)
    {
        int n;
        cin>>n;
        string v;
        cin>>v;
        stack<char> s;
        //cout<<v<<endl;
        int ans = check(v,s);
        cout<< ans<< endl;
    }
    return 0;



}

